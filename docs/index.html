---

title: dash_oop_components


keywords: fastai
sidebar: home_sidebar

summary: "`dash_oop_components` is a small helper library with OOP dashboard building blocks for the plotly dash library"
description: "`dash_oop_components` is a small helper library with OOP dashboard building blocks for the plotly dash library"
nb_path: "index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Install">Install<a class="anchor-link" href="#Install"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>pip install dash_oop_components</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Documentation">Documentation<a class="anchor-link" href="#Documentation"> </a></h2><p>Documentation can be found at: <a href="https://oegedijk.github.io/dash_oop_components/">https://oegedijk.github.io/dash_oop_components/</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Purpose">Purpose<a class="anchor-link" href="#Purpose"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Plotly's <a href="dash.plotly.com">dash</a> is an awesome library that allows you to build rich interactive data driven web apps with pure python code. However the default style of dash apps is quite declarative, which for large projects can lead to code that becomes unwieldy and hard to maintain.</p>
<p>This library provides three object-oriented wrappers for organizing your dash code that allow you to write clean, modular, composable, re-usable and fully configurable dash code.</p>
<p>It includes:</p>
<ul>
<li><a href="/dash_oop_components/core.html#DashFigureFactory"><code>DashFigureFactory</code></a>: a wrapper for your data/plotting functionality.</li>
<li><a href="/dash_oop_components/core.html#DashComponent"><code>DashComponent</code></a>: a self-contained, modular, configurable unit that combines a dash layout with dash callbacks.<ul>
<li>Makes use of a <a href="/dash_oop_components/core.html#DashFigureFactory"><code>DashFigureFactory</code></a> for plots or other data output</li>
<li><code>DashComponents</code> are composable, meaning that you can nest them into new composite components.</li>
</ul>
</li>
<li><a href="/dash_oop_components/core.html#DashApp"><code>DashApp</code></a>: Build a dashboard out of <a href="/dash_oop_components/core.html#DashComponent"><code>DashComponent</code></a> and run it.</li>
</ul>
<p>All three wrappers:</p>
<ul>
<li>Automatically store all params to attributes and to a ._stored_params dict</li>
<li>Allow you to store its' config to a <code>.yaml</code> file, including import details, and can then<br>
  be fully reloaded from a config file.</li>
</ul>
<p>This allows you to:</p>
<ul>
<li>Seperate the data/plotting logic from the dashboard interactions logic, by putting all 
  the plotting functionality inside a <a href="/dash_oop_components/core.html#DashFigureFactory"><code>DashFigureFactory</code></a> and all the dashboard layout and callback logic into <code>DashComponents</code>.</li>
<li>Build self-contained, configurable, re-usable <code>DashComponents</code></li>
<li>Compose dashboards that consists of multiple <code>DashComponents</code> that each may 
  consists of multiple nested <code>DashComponents</code>, etc.</li>
<li>Store all the configuration needed to rebuild and run a particular dashboard to 
  a single configuration <code>.yaml</code> file</li>
<li>Parametrize your dashboard so that you (or others) can make change to the dashboard
  without having to edit the code.</li>
<li>Plus: track the state of your dashboard with querystrings and reload the state from url!</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="To-import:">To import:<a class="anchor-link" href="#To-import:"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">dash_oop_components</span> <span class="kn">import</span> <span class="n">DashFigureFactory</span><span class="p">,</span> <span class="n">DashComponent</span><span class="p">,</span> <span class="n">DashApp</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example:">Example:<a class="anchor-link" href="#Example:"> </a></h2><p>An example dashboard can be found at <a href="https://github.com/oegedijk/dash_oop_demo">github.com/oegedijk/dash_oop_demo</a> and has been deployed to <a href="https://dash-oop-demo.herokuapp.com/">https://dash-oop-demo.herokuapp.com/</a></p>
<p>Below is the code for similar but slightly simpler example. Full explanation for the <code>dash_oop_demo</code> dashboard can be found <a href="https://oegedijk.github.io/dash_oop_components/Example.html">in the documentation</a>.</p>
<p>The example is a rewrite of this <a href="https://www.youtube.com/watch?v=dgV3GGFMcTc">Charming Data dash instruction video</a> (go check out his other vids, they're awesome!).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="CovidPlots:-a-DashFigureFactory">CovidPlots: a DashFigureFactory<a class="anchor-link" href="#CovidPlots:-a-DashFigureFactory"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First we define a basic <a href="/dash_oop_components/core.html#DashFigureFactory"><code>DashFigureFactory</code></a> that loads a covid dataset, and provides a single plotting functionality, namely <code>plot_time_series(countries, metric)</code>. Make sure to call <code>super().__init__()</code> in order to store params to attributes (that's how the datafile parameters gets automatically assigned to self.datafile for example), and store them to a <code>._stored_params</code> dict so that they can later be exported to a config file.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CovidPlots</span><span class="p">(</span><span class="n">DashFigureFactory</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datafile</span><span class="o">=</span><span class="s2">&quot;covid.csv&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datafile</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">countries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">countriesAndTerritories</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cases&#39;</span><span class="p">,</span> <span class="s1">&#39;deaths&#39;</span><span class="p">]</span>
        
    <span class="k">def</span> <span class="nf">plot_time_series</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">countries</span><span class="p">,</span> <span class="n">metric</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
            <span class="n">data_frame</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">countriesAndTerritories</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">countries</span><span class="p">)],</span>
            <span class="n">x</span><span class="o">=</span><span class="s1">&#39;dateRep&#39;</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="n">metric</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="s1">&#39;countriesAndTerritories&#39;</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;countriesAndTerritories&#39;</span><span class="p">:</span><span class="s1">&#39;Countries&#39;</span><span class="p">,</span> <span class="s1">&#39;dateRep&#39;</span><span class="p">:</span><span class="s1">&#39;date&#39;</span><span class="p">},</span>
            <span class="p">)</span>
    
<span class="n">figure_factory</span> <span class="o">=</span> <span class="n">CovidPlots</span><span class="p">(</span><span class="s2">&quot;covid.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">figure_factory</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>dash_figure_factory:
  class_name: CovidPlots
  module: __main__
  params:
    datafile: covid.csv

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="CovidTimeSeries:-a-DashComponent">CovidTimeSeries: a DashComponent<a class="anchor-link" href="#CovidTimeSeries:-a-DashComponent"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then we define a <a href="/dash_oop_components/core.html#DashComponent"><code>DashComponent</code></a> that takes a plot_factory and build a layout with two dropdowns and a graph.</p>
<ul>
<li>By calling <code>super().__init__()</code> all parameters are automatically stored to attributes (so that we can access 
  e.g. <code>self.hide_country_dropdown</code>), and to a <code>._stored_params</code> dict.</li>
<li>This layout makes use of the <code>make_hideable()</code> staticmethod, to conditionally 
  wrap certain layout elements in a hidden div.</li>
<li>We track the state of the dropdowns "value" attribute by wrapping it in 
  <code>self.querystring(params)(dcc.Dropdown)(..)</code>, and passing the params down to the layout function.</li>
<li>Note that the layout element id's add <code>+self.name</code> to ensure they are unique in every layout<ul>
<li><code>self.name</code> gets assigned a uuid random string of length 10 by <code>super().__init__()</code>.</li>
</ul>
</li>
<li>Note that the callbacks are registered using <code>_register_callbacks(self, app)</code> (<strong>note the underscore!</strong>)</li>
<li>Note that the callback uses the <code>plot_factory</code> for the plotting logic.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CovidTimeSeries</span><span class="p">(</span><span class="n">DashComponent</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot_factory</span><span class="p">,</span> 
                 <span class="n">hide_country_dropdown</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">countries</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
                 <span class="n">hide_metric_dropdown</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cases&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">countries</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">countries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_factory</span><span class="o">.</span><span class="n">countries</span>
        
    <span class="k">def</span> <span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">dbc</span><span class="o">.</span><span class="n">Container</span><span class="p">([</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">([</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">([</span>
                    <span class="n">html</span><span class="o">.</span><span class="n">H3</span><span class="p">(</span><span class="s2">&quot;Covid Time Series&quot;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">make_hideable</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">querystring</span><span class="p">(</span><span class="n">params</span><span class="p">)(</span><span class="n">dcc</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">)(</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;timeseries-metric-dropdown-&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                            <span class="n">options</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">metric</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">metric</span><span class="p">}</span> <span class="k">for</span> <span class="n">metric</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;cases&#39;</span><span class="p">,</span> <span class="s1">&#39;deaths&#39;</span><span class="p">]],</span>
                            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">,</span>
                        <span class="p">),</span> <span class="n">hide</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hide_metric_dropdown</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">make_hideable</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">querystring</span><span class="p">(</span><span class="n">params</span><span class="p">)(</span><span class="n">dcc</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">)(</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;timeseries-country-dropdown-&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                            <span class="n">options</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">country</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">country</span><span class="p">}</span> <span class="k">for</span> <span class="n">country</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_factory</span><span class="o">.</span><span class="n">countries</span><span class="p">],</span>
                            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">countries</span><span class="p">,</span>
                            <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="p">),</span> <span class="n">hide</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hide_country_dropdown</span><span class="p">),</span>
                    <span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;timeseries-figure-&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="p">]),</span>
            <span class="p">])</span>
        <span class="p">])</span>
    
    <span class="k">def</span> <span class="nf">_register_callbacks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
        <span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
            <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;timeseries-figure-&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;figure&#39;</span><span class="p">),</span>
            <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;timeseries-country-dropdown-&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
            <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;timeseries-metric-dropdown-&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">update_timeseries_plot</span><span class="p">(</span><span class="n">countries</span><span class="p">,</span> <span class="n">metric</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">countries</span> <span class="ow">and</span> <span class="n">metric</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_factory</span><span class="o">.</span><span class="n">plot_time_series</span><span class="p">(</span><span class="n">countries</span><span class="p">,</span> <span class="n">metric</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">PreventUpdate</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="DuoPlots:-a-composition-of-two-subcomponents">DuoPlots: a composition of two subcomponents<a class="anchor-link" href="#DuoPlots:-a-composition-of-two-subcomponents"> </a></h3><p>A composite <a href="/dash_oop_components/core.html#DashComponent"><code>DashComponent</code></a> that combines two <code>CovidTimeSeries</code> into a single layout. 
Both subcomponents are passed the same <code>plot_factory</code> but assigned different initial values.</p>
<ul>
<li>The layouts of subcomponents can be included in the composite layout with 
  <code>self.plot_left.layout(params)</code> and <code>self.plot_right.layout(params)</code></li>
<li>Composite callbacks should again be defined under <code>self._register_callbacks(app)</code> (<strong>note the underscore!</strong>)<ul>
<li>calling <code>.register_callbacks(app)</code> first registers all callbacks of subcomponents, 
  and then calls <code>_register_callbacks(app)</code>.</li>
<li>composite callbacks can access elements of subcomponents by using the <code>subcomponent.name</code> fields in the ids.</li>
</ul>
</li>
<li>When tracking the state of the dashboard in the querystring it is important to name your components, so that 
  the next time you start the dashboard the elements will have the same id's. In this case we 
  pass <code>name="left"</code> and <code>name="right"</code>.</li>
<li>Make sure to pass the params parameter of the layout down to the subcomponent layouts!</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">DuoPlots</span><span class="p">(</span><span class="n">DashComponent</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot_factory</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_left</span> <span class="o">=</span> <span class="n">CovidTimeSeries</span><span class="p">(</span><span class="n">plot_factory</span><span class="p">,</span> 
                                         <span class="n">countries</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;Vietnam&#39;</span><span class="p">,</span> <span class="s1">&#39;Taiwan&#39;</span><span class="p">],</span> 
                                         <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cases&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_right</span> <span class="o">=</span> <span class="n">CovidTimeSeries</span><span class="p">(</span><span class="n">plot_factory</span><span class="p">,</span> 
                                          <span class="n">countries</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;Germany&#39;</span><span class="p">,</span> <span class="s1">&#39;Sweden&#39;</span><span class="p">],</span> 
                                          <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;deaths&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">dbc</span><span class="o">.</span><span class="n">Container</span><span class="p">([</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">([</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">([</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_left</span><span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
                <span class="p">]),</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">([</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_right</span><span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
                <span class="p">])</span>
            <span class="p">])</span>
        <span class="p">],</span> <span class="n">fluid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
<span class="n">dashboard</span> <span class="o">=</span> <span class="n">DuoPlots</span><span class="p">(</span><span class="n">figure_factory</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dashboard</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>dash_component:
  class_name: DuoPlots
  module: __main__
  params:
    plot_factory:
      dash_figure_factory:
        class_name: CovidPlots
        module: __main__
        params:
          datafile: covid.csv
    name: 7HmT3rgLrM

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Build-and-start-DashApp:">Build and start <a href="/dash_oop_components/core.html#DashApp"><code>DashApp</code></a>:<a class="anchor-link" href="#Build-and-start-DashApp:"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pass the <code>dashboard</code> to the <a href="/dash_oop_components/core.html#DashApp"><code>DashApp</code></a> to create a dash flask application.</p>
<ul>
<li>You can pass <code>mode='inline'</code>, <code>'external'</code> or <code>'jupyterlab'</code> when you are working in a notebook in order to keep
  the notebook interactive while the app is running</li>
<li>By passing <code>querystrings=True</code> you automatically keep track of the state of the dashboard int the url querystring</li>
<li>You can pass a <code>port</code> and any other dash parameters in the <code>**kwargs</code> (e.g. here we include the bootstrap css from <code>dash_bootstrap_components</code>)</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">DashApp</span><span class="p">(</span><span class="n">dashboard</span><span class="p">,</span> <span class="n">querystrings</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">external_stylesheets</span><span class="o">=</span><span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">themes</span><span class="o">.</span><span class="n">BOOTSTRAP</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>dash_app:
  class_name: DashApp
  module: dash_oop_components.core
  params:
    dashboard_component:
      dash_component:
        class_name: DuoPlots
        module: __main__
        params:
          plot_factory:
            dash_figure_factory:
              class_name: CovidPlots
              module: __main__
              params:
                datafile: covid.csv
          name: 7HmT3rgLrM
    port: 8050
    mode: dash
    querystrings: true
    kwargs:
      external_stylesheets:
      - https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css
      suppress_callback_exceptions: true

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">run_app</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="reload-dashboard-from-config:">reload dashboard from config:<a class="anchor-link" href="#reload-dashboard-from-config:"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">(</span><span class="s2">&quot;covid_dashboard.yaml&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">app2</span> <span class="o">=</span> <span class="n">DashApp</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="s2">&quot;covid_dashboard.yaml&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can check that the configuration of this new <code>app2</code> is indeed the same as <code>app</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">app2</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>dash_app:
  class_name: DashApp
  module: dash_oop_components.core
  params:
    dashboard_component:
      dash_component:
        class_name: DuoPlots
        module: __main__
        params:
          plot_factory:
            dash_figure_factory:
              class_name: CovidPlots
              module: __main__
              params:
                datafile: covid.csv
          name: 69CtSVuHee
    port: 8050
    mode: dash
    querystrings: true
    kwargs:
      external_stylesheets:
      - https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css
      suppress_callback_exceptions: true

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And if we run it it still works!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">run_app</span><span class="p">:</span> 
    <span class="n">app2</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

